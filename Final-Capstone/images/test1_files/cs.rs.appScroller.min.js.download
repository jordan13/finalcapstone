!function(i){i.fn.appScroller=function(t){var e={appParent:".hp",targetApp:"upcomingevents",imageNum960:4,imageNum768:2,imageNum640:2,imageNum480:2,imageNum320:1,dynamicWidth:"no",backIconFontLetter:"l",nextIconFontLetter:"r",buttonColor:"#FFF",extraBackIconClass:"",extraNextIconClass:"",controlGutter:"0"};return t&&i.extend(e,t),this.each(function(){function t(){l(),i(".headlines-scroll-ctrl",d).length||i(d).prepend('<div class="headlines-scroll-ctrl back icon-font hidden role="button" tabindex="0" aria-label="Navigate to Previous Item"'+e.extraBackIconClass+'">'+e.backIconFontLetter+"</div>").append('<div class="headlines-scroll-ctrl next icon-font hidden role="button" tabindex="0" aria-label="Navigate to Next Item"'+e.extraNextIconClass+'">'+e.nextIconFontLetter+"</div>"),i(".ui-articles li",d).last().addClass("last");var t=i(".ui-articles li",d).length,a=0;if(960==r&&(a=i(".ui-widget-detail",d).width()/e.imageNum960),768==r&&(a=i(".ui-widget-detail",d).width()/e.imageNum768),640==r&&(a=i(".ui-widget-detail",d).width()/e.imageNum640),480==r&&(a=i(".ui-widget-detail",d).width()/e.imageNum480),320==r&&(a=i(".ui-widget-detail",d).width()/e.imageNum320),"yes"==e.dynamicWidth){var s=0;i(".ui-articles li",d).each(function(){i(this).css("width",i(this).width()+5+"px"),s=s+i(this).width()+5}),i(".ui-articles",d).css("width",s),i(".ui-articles li",d).eq(0).addClass("active")}else i(".ui-articles li",d).each(function(){i(this).css("width",a+"px")}),i(".ui-articles",d).css("width",a*t);i(".ui-articles",d).width()>i(".ui-widget-detail",d).width()&&i(".headlines-scroll-ctrl",d).removeClass("hidden"),i(".headlines-scroll-ctrl",d).on("click keypress",function(t){if(13==t.keyCode||32==t.keyCode||"click"==t.type){var a=i(".ui-articles li",d).outerWidth(!0),l=i(".ui-articles li",d).first().outerWidth(!0),s=i(".ui-articles li",d).last().outerWidth(!0),r=-1*parseInt(i(".ui-articles",d).css("margin-left")),c=parseInt(i(".ui-articles",d).css("width"))-i(".ui-widget-detail",d).width(),o=c-r,h=0;if(i(this).hasClass("next")){if(s>o)h="yes"==e.dynamicWidth?r:r+o;else if("yes"==e.dynamicWidth){var u=i(".ui-articles li.active",d);a=i(".ui-articles li.active",d).outerWidth(!0),h=r+a,i(".ui-articles li",d).removeClass("active"),i(u).next().addClass("active")}else h=r+a;i(".ui-articles",d).animate({marginLeft:"-"+h+"px"},400)}else if(i(this).hasClass("back")){if(l>r)h=0;else if("yes"==e.dynamicWidth)if(-1==i(".ui-articles li.active",d).prev().index());else{var u=i(".ui-articles li.active",d).prev();i(".ui-articles li",d).removeClass("active"),i(u).addClass("active"),a=i(".ui-articles li.active",d).outerWidth(!0),h=r-a}else h=r-a;i(".ui-articles",d).animate({marginLeft:"-"+h+"px"},400)}}else(t.keyCode==n.right||t.keyCode==n.left)&&(i(this).hasClass("next")&&t.keyCode==n.right?i(this).parent().find(".ui-articles li:first").focus():i(this).hasClass("back")&&t.keyCode==n.left&&i(this).parent().find(".ui-articles li:last").focus())}),i(".app-scroller li",d).on("keypress",function(t){i(this).first()&&t.keyCode==n.right?i(this).parent().find(".headlines-scroll-ctrl.back").focus():i(this).last()&&t.keyCode==n.left?i(this).parent().find(".headlines-scroll-ctrl.next").focus():t.keyCode==n.right?i(this).next(".ui-articles li").focus():t.keyCode==n.left&&i(this).prev(".ui-articles li").focus()})}function a(){var t=s();i(".ui-articles",d).css("margin-left","0");var a=i(".ui-articles li",d).length,l=0;if(960==t&&(l=i(".ui-widget-detail",d).width()/e.imageNum960),768==t&&(l=i(".ui-widget-detail",d).width()/e.imageNum768),640==t&&(l=i(".ui-widget-detail",d).width()/e.imageNum640),480==t&&(l=i(".ui-widget-detail",d).width()/e.imageNum480),320==t&&(l=i(".ui-widget-detail",d).width()/e.imageNum320),"yes"==e.dynamicWidth){var r=0;i(".ui-articles li",d).each(function(){i(this).css("width",i(this).width()+5+"px"),r=r+i(this).width()+5}),i(".ui-articles",d).css("width",r)}else i(".ui-articles li",d).each(function(){i(this).css("width",l+"px")}),i(".ui-articles",d).css("width",l*a);i(".ui-articles",d).width()>i(".ui-widget-detail",d).width()?i(".headlines-scroll-ctrl",d).removeClass("hidden"):i(".headlines-scroll-ctrl",d).addClass("hidden")}function l(){var i=document.createElement("style");if(i){i.setAttribute("type","text/css");var t=document.getElementsByTagName("head")[0];t&&t.insertBefore(i,t.childNodes[0]);var a=e.appParent+" .headlines-scroll-ctrl {    color:"+e.buttonColor+";}"+e.appParent+" .headlines-scroll-ctrl {    position: absolute;    font-size: 30px;    width: 30px;    height: 30px;    top: 50%;    margin-top: -15px;    cursor: pointer;    text-align: center;}"+e.appParent+" .headlines-scroll-ctrl.back {    left: 0%;}"+e.appParent+" .headlines-scroll-ctrl.next {    right: 0%;}"+e.appParent+" div.ui-widget.app."+e.targetApp+"{    position: relative; }"+e.appParent+" div.ui-widget.app."+e.targetApp+" .ui-widget-detail {    overflow: hidden;    margin: 0px "+e.controlGutter+"px; }"+e.appParent+" div.ui-widget.app."+e.targetApp+" .ui-articles {    width: 100%;    margin: 0px;    position: relative;}"+e.appParent+" div.ui-widget.app."+e.targetApp+" li {    float: left;}"+e.appParent+" div.ui-widget.app."+e.targetApp+" .ui-article {    position: relative;    padding: 15px;}"+e.appParent+" div.ui-widget.app.headlines .ui-article-thumb {    float: none;    overflow: visible;}",l=document.createTextNode(a);i.styleSheet?i.styleSheet.cssText=a:i.appendChild(l)}}function s(){return i(window).width()>=1024?960:i(window).width()>=768&&i(window).width()<1024?768:i(window).width()>=640&&i(window).width()<768?640:i(window).width()>=480&&i(window).width()<640?480:i(window).width()>=320&&i(window).width()<480?320:void 0}var d=this,r=s(),n={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40};i(window).bind("resize",function(){a()}),t(),a(),i(".ui-widget-detail img",d).each(function(){i(this).css({display:"inline-block",width:"100%","max-width":i(this).attr("width")+"px",height:"auto","max-height":i(this).attr("height")+"px"})}),i(".tab-button, .ui-widget-header").on("click",function(){a()}),Number.prototype.clamp=function(i,t){return Math.min(Math.max(this,i),t)}})}}(jQuery);